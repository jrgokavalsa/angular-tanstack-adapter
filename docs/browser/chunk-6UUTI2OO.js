import{a as J}from"./chunk-KTH76XSK.js";import{k as N,m as j}from"./chunk-U65TIPU5.js";import{a as K}from"./chunk-Y4ATMCDO.js";import{a as O,b as A,d as B,e as H,f as L,g as U,h as q}from"./chunk-2MBPHEYK.js";import{$ as T,Aa as k,Ga as d,Ha as M,Ia as c,J as I,Ka as C,La as f,Ma as x,Na as i,Oa as r,Qa as h,Ra as b,Sa as w,V as R,Va as m,Wa as g,_ as G,ab as _,bb as E,cb as s,db as V,gb as D,hb as z,i as P,j as S,r as y,xa as a,ya as $}from"./chunk-HKXAAMIK.js";var v=(e,n)=>n.id;function Q(e,n){if(e&1&&(h(0),i(1,"span"),_(2),r(),b()),e&2){let t=n.$implicit;a(2),E(t)}}function W(e,n){if(e&1){let t=w();i(0,"button",9),m("click",function(){G(t);let l=g(2).$implicit;return T(l.column.toggleGrouping())}),i(1,"span",4),_(2),r()(),d(3,Q,3,1,"ng-container",10)}if(e&2){let t=g(2).$implicit;a(2),s(" ",t.column.getIsGrouped()?"remove_circle_outline":"add_circle_outline"," "),a(),c("flexRender",t.column.columnDef.header)("flexRenderProps",t.getContext)}}function X(e,n){if(e&1&&d(0,W,4,3),e&2){let t=g().$implicit;C(0,t.column.getCanGroup()?0:-1)}}function Y(e,n){if(e&1&&(i(0,"th"),d(1,X,1,1),r()),e&2){let t=n.$implicit;M("colSpan",t.colSpan),a(),C(1,t.isPlaceholder?-1:1)}}function Z(e,n){if(e&1&&(i(0,"tr"),f(1,Y,2,2,"th",null,v),r()),e&2){let t=n.$implicit;a(),x(t.headers)}}function ee(e,n){if(e&1&&(h(0),i(1,"span"),_(2),r(),b()),e&2){let t=n.$implicit;a(2),E(t)}}function te(e,n){if(e&1){let t=w();i(0,"button",11),m("click",function(){G(t);let l=g(2).$implicit;return T(l.toggleExpanded())}),i(1,"span",4),_(2),r()(),d(3,ee,3,1,"ng-container",10)}if(e&2){let t=g().$implicit,o=g().$implicit;a(2),s(" ",o.getIsExpanded()?"expand_less":"expand_more"," "),a(),c("flexRender",t.column.columnDef.cell)("flexRenderProps",t.getContext())}}function ne(e,n){if(e&1&&(h(0),_(1),b()),e&2){let t=n.$implicit;a(),s(" ",t," ")}}function ie(e,n){if(e&1&&d(0,ne,2,1,"ng-container",10),e&2){let t=g().$implicit;c("flexRender",t.column.columnDef.aggregatedCell)("flexRenderProps",t.getContext())}}function oe(e,n){}function ae(e,n){if(e&1&&(h(0),_(1),b()),e&2){let t=n.$implicit;a(),s(" ",t," ")}}function re(e,n){if(e&1&&d(0,ae,2,1,"ng-container",10),e&2){let t=g().$implicit;c("flexRender",t.column.columnDef.cell)("flexRenderProps",t.getContext())}}function le(e,n){if(e&1&&(i(0,"td"),d(1,te,4,3)(2,ie,1,2)(3,oe,0,0)(4,re,1,2),r()),e&2){let t=n.$implicit;a(),C(1,t.getIsGrouped()?1:t.getIsAggregated()?2:t.getIsPlaceholder()?3:4)}}function pe(e,n){if(e&1&&(i(0,"tr"),f(1,le,5,1,"td",null,v),r()),e&2){let t=n.$implicit;a(),x(t.getVisibleCells())}}function _e(e,n){if(e&1&&(i(0,"table",1)(1,"thead"),f(2,Z,3,0,"tr",null,v),r(),i(4,"tbody"),f(5,pe,3,0,"tr",null,v),r()()),e&2){let t=g();a(2),x(t.table.getHeaderGroups()),a(3),x(t.table.getRowModel().rows)}}function ce(e,n){if(e&1&&(i(0,"option",12),_(1),r()),e&2){let t=n.$implicit;c("value",t),a(),s(" Show ",t," ")}}var de=()=>[10,20,30,40,50],be=(()=>{let n=class n{constructor(o){this.cdr=o,this.destroy$=new P,this.data=K(1e4),this.groupingState=new S([]),this.expandedState=new S({}),this.paginationState=new S({pageIndex:0,pageSize:10}),this.expanded={}}ngOnInit(){this.createTable(),y([this.expandedState,this.groupingState]).pipe(I(this.destroy$)).subscribe(([o,l])=>{this.table.options.state.grouping=l,this.table.options.state.expanded=o,this.cdr.detectChanges()})}createTable(){this.table=q({data:this.data,columns:J,state:{grouping:this.groupingState.getValue(),expanded:this.expandedState.getValue(),pagination:this.paginationState.getValue()},onGroupingChange:o=>{this.groupingState.next(typeof o=="function"?o([...this.groupingState.getValue()]):o)},onExpandedChange:o=>{let l=typeof o=="function"?o(this.expandedState.getValue()):o;this.table.options.state.expanded=l,this.expandedState.next(l)},debugTable:!0,onPaginationChange:o=>{let l=typeof o=="function"?o(this.paginationState.getValue()):o;this.table.options.state.pagination=l,this.paginationState.next(l)},getExpandedRowModel:H(),getGroupedRowModel:B(),getCoreRowModel:O(),getPaginationRowModel:L(),getFilteredRowModel:A()})}onPageInputChange(o){let l=o.target.value?Number(o.target.value)-1:0;this.table.setPageIndex(l)}onPageSizeChange(o){console.log(o),this.table.setPageSize(Number(o.target.value))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};n.\u0275fac=function(l){return new(l||n)($(k))},n.\u0275cmp=R({type:n,selectors:[["tanstack-grouping"]],standalone:!0,features:[D],decls:27,vars:11,consts:[[1,"tanstack-table"],["aria-describedby","tanstack table grouping implementation in angular"],[1,"pagination-container"],[1,"pagination-button",3,"disabled","click"],[1,"material-icons-sharp"],[1,"pagination-info"],["type","number",1,"pagination-input",3,"value","input"],[1,"pagination-select",3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["id","group-btn",3,"click"],[4,"flexRender","flexRenderProps"],[3,"click"],[3,"value"]],template:function(l,p){l&1&&(i(0,"div",0)(1,"h2"),_(2,"Grouping"),r(),d(3,_e,7,0,"table",1),i(4,"div",2)(5,"button",3),m("click",function(){return p.table.setPageIndex(0)}),i(6,"span",4),_(7,"first_page"),r()(),i(8,"button",3),m("click",function(){return p.table.previousPage()}),i(9,"span",4),_(10,"chevron_left"),r()(),i(11,"button",3),m("click",function(){return p.table.nextPage()}),i(12,"span",4),_(13,"chevron_right"),r()(),i(14,"button",3),m("click",function(){return p.table.setPageIndex(p.table.getPageCount()-1)}),i(15,"span",4),_(16,"last_page"),r()(),i(17,"span",5)(18,"div"),_(19,"Page"),r(),i(20,"strong"),_(21),r()(),i(22,"span",5),_(23," | Go to page: "),i(24,"input",6),m("input",function(F){return p.onPageInputChange(F)}),r()(),i(25,"select",7),m("change",function(F){return p.onPageSizeChange(F)}),d(26,ce,2,2,"option",8),r()()()),l&2&&(a(3),C(3,p.table?3:-1),a(2),c("disabled",!p.table.getCanPreviousPage()),a(3),c("disabled",!p.table.getCanPreviousPage()),a(3),c("disabled",!p.table.getCanNextPage()),a(3),c("disabled",!p.table.getCanNextPage()),a(7),V(" ",p.table.getState().pagination.pageIndex+1," of ",p.table.getPageCount()," "),a(3),c("value",p.table.getState().pagination.pageIndex+1),a(),c("value",p.table.getState().pagination.pageSize),a(),c("ngForOf",z(10,de)))},dependencies:[j,N,U],encapsulation:2});let e=n;return e})();export{be as GroupingComponent};
