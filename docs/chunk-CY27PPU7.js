import{k as G,l as B,m as T}from"./chunk-U65TIPU5.js";import{a as X}from"./chunk-Y4ATMCDO.js";import{a as H,b as W,f as q,g as J,h as Q}from"./chunk-2MBPHEYK.js";import{$ as C,$a as w,Aa as z,Ga as _,Ha as R,Ia as s,J as N,Ka as u,La as S,Ma as x,Na as a,Oa as c,Pa as K,Qa as k,Ra as E,Sa as h,V as v,Va as d,Wa as p,_ as g,ab as m,cb as b,db as I,gb as y,hb as O,i as M,ib as j,j as F,jb as L,q as $,r as D,xa as r,ya as A}from"./chunk-HKXAAMIK.js";function ee(e,i){if(e&1){let t=h();a(0,"div")(1,"input",0,1),d("change",function(){g(t);let o=w(2),l=p(2);return C(l.updateMinFilterValue(o.value))}),c(),a(3,"input",2,3),d("change",function(){g(t);let o=w(4),l=p(2);return C(l.updateMaxFilterValue(o.value))}),c()()}if(e&2){let t=p(2);r(),s("value",t.getMinValue()),r(2),s("value",t.getMaxValue())}}function te(e,i){if(e&1){let t=h();a(0,"input",4,5),d("change",function(){g(t);let o=w(1),l=p(2);return C(l.column.setFilterValue(o.value))}),c()}if(e&2){let t=p(2),n;s("value",(n=t.column.getFilterValue())!==null&&n!==void 0?n:"")}}function ne(e,i){if(e&1&&_(0,ee,5,2,"div")(1,te,2,1),e&2){let t=p();u(0,t.columnType=="number"?0:1)}}var Y=(()=>{let i=class i{get columnType(){return this._columnType}set columnType(n){this._columnType=n}ngOnInit(){this.columnType=typeof this.table.getPreFilteredRowModel().flatRows[0]?.getValue(this.column.id)}getMinValue(){return this.column.getFilterValue()?.[0]??""}getMaxValue(){return this.column.getFilterValue()?.[1]??""}updateMinFilterValue(n){this.column.setFilterValue(o=>[n,o?.[1]])}updateMaxFilterValue(n){this.column.setFilterValue(o=>[o?.[0],n])}};i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=v({type:i,selectors:[["Filter"]],inputs:{column:"column",table:"table"},standalone:!0,features:[y],decls:1,vars:1,consts:[["type","number","placeholder","min",3,"value","change"],["min",""],["type","number","placeholder","max",3,"value","change"],["max",""],["type","text","placeholder","Search...",3,"value","change"],["search",""]],template:function(o,l){o&1&&_(0,ne,2,1),o&2&&u(0,l.columnType?0:-1)},dependencies:[T],encapsulation:2});let e=i;return e})();var Z=[{id:"select",header:({table:e})=>e,cell:({row:e})=>e},{header:"Name",footer:e=>e.column.id,columns:[{accessorKey:"firstName",cell:e=>e.getValue(),footer:e=>e.column.id,header:"First Name"},{accessorFn:e=>e.lastName,id:"lastName",cell:e=>e.getValue(),header:()=>"Last Name",footer:e=>e.column.id}]},{header:"Info",footer:e=>e.column.id,columns:[{accessorKey:"age",header:()=>"Age",footer:e=>e.column.id},{header:"More Info",columns:[{accessorKey:"visits",header:()=>"Visits",footer:e=>e.column.id},{accessorKey:"status",header:"Status",footer:e=>e.column.id},{accessorKey:"progress",header:"Profile Progress",footer:e=>e.column.id}]}]}];var V=(e,i)=>i.id;function ie(e,i){if(e&1){let t=h();a(0,"input",12),d("change",function(){g(t);let o=p(5);return C(o.table.toggleAllRowsSelected())}),c()}if(e&2){let t=p(5);s("checked",t.table.getIsAllRowsSelected())("indeterminate",t.table.getIsSomeRowsSelected())}}function oe(e,i){if(e&1&&(k(0),m(1),E()),e&2){let t=i.$implicit;r(),b(" ",t," ")}}function ae(e,i){if(e&1&&K(0,"Filter",14),e&2){let t=p(3).$implicit,n=p(3);s("column",t.column)("table",n.table)}}function le(e,i){if(e&1&&_(0,oe,2,1,"ng-container",13)(1,ae,1,2,"Filter",14),e&2){let t=p(2).$implicit;s("flexRender",t.column.columnDef.header)("flexRenderProps",t.getContext()),r(),u(1,t.column.getCanFilter()?1:-1)}}function re(e,i){if(e&1&&_(0,ie,1,2,"input",11)(1,le,2,3),e&2){let t=p().$implicit;u(0,t.id=="select"?0:1)}}function ce(e,i){if(e&1&&(a(0,"th"),_(1,re,2,1),c()),e&2){let t=i.$implicit;R("colSpan",t.colSpan),r(),u(1,t.isPlaceholder?-1:1)}}function se(e,i){if(e&1&&(a(0,"tr"),S(1,ce,2,2,"th",null,V),c()),e&2){let t=i.$implicit;r(),x(t.headers)}}function pe(e,i){if(e&1){let t=h();a(0,"input",16),d("change",function(){g(t);let o=p(2).$implicit;return C(o.toggleSelected())}),c()}if(e&2){let t=p(2).$implicit;s("checked",t.getIsSelected())("disabled",!t.getCanSelect())("indeterminate",t.getIsSomeSelected())}}function de(e,i){if(e&1&&(k(0),m(1),E()),e&2){let t=i.$implicit;r(),b(" ",t," ")}}function me(e,i){if(e&1&&_(0,de,2,1,"ng-container",13),e&2){let t=p().$implicit;s("flexRender",t.column.columnDef.cell)("flexRenderProps",t.getContext())}}function _e(e,i){if(e&1&&(a(0,"td"),_(1,pe,1,3,"input",15)(2,me,1,2),c()),e&2){let t=i.$implicit;r(),u(1,t.id.endsWith("select")?1:2)}}function ue(e,i){if(e&1&&(a(0,"tr"),S(1,_e,3,1,"td",null,V),c()),e&2){let t=i.$implicit;r(),x(t.getVisibleCells())}}function ge(e,i){if(e&1){let t=h();a(0,"table",1)(1,"thead"),S(2,se,3,0,"tr",null,V),c(),a(4,"tbody"),S(5,ue,3,0,"tr",null,V),c(),a(7,"tfoot")(8,"tr")(9,"th")(10,"input",10),d("change",function(){g(t);let o=p();return C(o.table.toggleAllPageRowsSelected())}),c()(),a(11,"th"),m(12),c()()()()}if(e&2){let t=p();r(2),x(t.table.getHeaderGroups()),r(3),x(t.table.getRowModel().rows),r(5),s("checked",t.table.getIsAllPageRowsSelected())("indeterminate",t.table.getIsSomePageRowsSelected()),r(),R("colspan",20),r(),b(" Page Rows (",t.table.getRowModel().rows.length,") ")}}function Ce(e,i){if(e&1&&(a(0,"option",17),m(1),c()),e&2){let t=i.$implicit;s("value",t),r(),b(" Show ",t," ")}}var he=()=>[10,20,30,40,50],Re=(()=>{let i=class i{constructor(n){this.cdr=n,this.destroy$=new M,this.rowSelectionState=new F({}),this.paginationState=new F({pageIndex:0,pageSize:10}),this.columnFilterState=new F([]),this.data=X(1e4)}ngOnInit(){this.createTable(),D([this.rowSelectionState,this.paginationState]).pipe(N(this.destroy$)).subscribe(([n,o])=>{this.table.options.state.rowSelection=n,this.table.options.state.pagination=o,this.cdr.detectChanges()})}createTable(){this.table=Q({data:this.data,columns:Z,state:{rowSelection:this.rowSelectionState.getValue(),pagination:this.paginationState.getValue(),columnFilters:this.columnFilterState.getValue()},enableRowSelection:!0,onRowSelectionChange:n=>{this.rowSelectionState.next(typeof n=="function"?n(this.rowSelectionState.getValue()):n)},onPaginationChange:n=>{let o=typeof n=="function"?n(this.paginationState.getValue()):n;this.table.options.state.pagination=o,this.paginationState.next(o)},onColumnFiltersChange:n=>{let o=typeof n=="function"?n(this.columnFilterState.getValue()):n;this.table.options.state.columnFilters=o,this.columnFilterState.next(o)},getCoreRowModel:H(),getFilteredRowModel:W(),getPaginationRowModel:q(),debugTable:!0})}onPageInputChange(n){let o=n.target,l=o.value?Number(o.value)-1:0;this.table.setPageIndex(l)}onPageSizeChange(n){this.table.setPageSize(Number(n.target.value))}getRowSelectionLength(){return this.rowSelectionState.pipe($(n=>Object.keys(n).length))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};i.\u0275fac=function(o){return new(o||i)(A(z))},i.\u0275cmp=v({type:i,selectors:[["tanstack-selecting"]],standalone:!0,features:[y],decls:31,vars:15,consts:[[1,"tanstack-table"],["aria-describedby","tanstack table row select implementation in angular"],[1,"pagination-container"],[1,"pagination-actions"],[1,"pagination-button",3,"disabled","click"],[1,"material-icons-sharp"],[1,"pagination-info"],["type","number",1,"pagination-input",3,"value","input"],[1,"pagination-select",3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["type","checkbox","name","","id","",3,"checked","indeterminate","change"],["type","checkbox","id","select",3,"checked","indeterminate"],["type","checkbox","id","select",3,"checked","indeterminate","change"],[4,"flexRender","flexRenderProps"],[3,"column","table"],["type","checkbox","id","select",3,"checked","disabled","indeterminate"],["type","checkbox","id","select",3,"checked","disabled","indeterminate","change"],[3,"value"]],template:function(o,l){o&1&&(a(0,"div",0)(1,"h2"),m(2,"Select"),c(),_(3,ge,13,4,"table",1),a(4,"div",2)(5,"div"),m(6),j(7,"async"),c(),a(8,"div",3)(9,"button",4),d("click",function(){return l.table.setPageIndex(0)}),a(10,"span",5),m(11,"first_page"),c()(),a(12,"button",4),d("click",function(){return l.table.previousPage()}),a(13,"span",5),m(14,"chevron_left"),c()(),a(15,"button",4),d("click",function(){return l.table.nextPage()}),a(16,"span",5),m(17,"chevron_right"),c()(),a(18,"button",4),d("click",function(){return l.table.setPageIndex(l.table.getPageCount()-1)}),a(19,"span",5),m(20,"last_page"),c()(),a(21,"span",6)(22,"div"),m(23,"Page"),c(),a(24,"strong"),m(25),c()(),a(26,"span",6),m(27," | Go to page: "),a(28,"input",7),d("input",function(P){return l.onPageInputChange(P)}),c()(),a(29,"select",8),d("change",function(P){return l.onPageSizeChange(P)}),_(30,Ce,2,2,"option",9),c()()()()),o&2&&(r(3),u(3,l.table?3:-1),r(3),I(" ",L(7,12,l.getRowSelectionLength())," of ",l.table.getPreFilteredRowModel().rows.length," Total Rows Selected "),r(3),s("disabled",!l.table.getCanPreviousPage()),r(3),s("disabled",!l.table.getCanPreviousPage()),r(3),s("disabled",!l.table.getCanNextPage()),r(3),s("disabled",!l.table.getCanNextPage()),r(7),I(" ",l.table.getState().pagination.pageIndex+1," of ",l.table.getPageCount()," "),r(3),s("value",l.table.getState().pagination.pageIndex+1),r(),s("value",l.table.getState().pagination.pageSize),r(),s("ngForOf",O(14,he)))},dependencies:[T,G,B,Y,J],encapsulation:2,changeDetection:0});let e=i;return e})();export{Re as SelectingComponent};
